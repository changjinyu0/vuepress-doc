(window.webpackJsonp=window.webpackJsonp||[]).push([[272],{637:function(e,v,s){"use strict";s.r(v);var _=s(45),a=Object(_.a)({},(function(){var e=this,v=e.$createElement,s=e._self._c||v;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"ps命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ps命令"}},[e._v("#")]),e._v(" ps命令")]),e._v(" "),s("p",[s("code",[e._v("Linux")]),e._v("是一个多任务、多用户的操作系统，因此它允许多个进程同时运行而不相互干扰，进程是"),s("code",[e._v("Linux")]),e._v("操作系统的重要基本概念之一，进程是程序的执行实例，在操作系统中执行不同的任务。"),s("code",[e._v("Linux")]),e._v("为我们提供了一个名为"),s("code",[e._v("ps")]),e._v("的实用程序，用于查看与系统上的进程相关的信息，它是"),s("code",[e._v("process status")]),e._v("进程状态的缩写，"),s("code",[e._v("ps")]),e._v("命令用于列出当前正在运行的进程，它们的"),s("code",[e._v("pid")]),e._v("以及一些其他信息取决于不同的选项，它从"),s("code",[e._v("/proc")]),e._v("文件系统中的虚拟文件读取进程信息，"),s("code",[e._v("/proc")]),e._v("包含虚拟文件，这就是它被称为虚拟文件系统的原因，"),s("code",[e._v("process status")]),e._v("命令"),s("code",[e._v("ps")]),e._v("显示有关活动进程的信息，类似于"),s("code",[e._v("windows")]),e._v("的任务管理器，每个操作系统的"),s("code",[e._v("ps")]),e._v("版本都略有不同，因此若要是需要获取详细情况则需要查阅操作系统的"),s("code",[e._v("wiki")]),e._v("。")]),e._v(" "),s("h2",{attrs:{id:"语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[e._v("#")]),e._v(" 语法")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ps")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[e._v("#")]),e._v(" 参数")]),e._v(" "),s("p",[s("code",[e._v("ps")]),e._v("命令有多种类别的参数可以选择: "),s("code",[e._v("simple|list|output|threads|misc|all")]),e._v("。")]),e._v(" "),s("h3",{attrs:{id:"simple-process-selection"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#simple-process-selection"}},[e._v("#")]),e._v(" Simple Process Selection")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("-A, -e")]),e._v(": 选择所有进程。")]),e._v(" "),s("li",[s("code",[e._v("-a")]),e._v(": 选择除会话引线和与终端无关的进程之外的所有进程。")]),e._v(" "),s("li",[s("code",[e._v("a")]),e._v(": 列出带有终端"),s("code",[e._v("tty")]),e._v("的所有进程，包括其他用户进程，或者在与"),s("code",[e._v("x")]),e._v("选项一起使用时列出所有进程。")]),e._v(" "),s("li",[s("code",[e._v("-d")]),e._v(": 选择除会话所属者以外的所有进程。")]),e._v(" "),s("li",[s("code",[e._v("-N, --deselect")]),e._v(": 选择除满足指定条件的进程以外的所有进程。")]),e._v(" "),s("li",[s("code",[e._v("r")]),e._v(": 将选择限制为仅运行进程。")]),e._v(" "),s("li",[s("code",[e._v("T")]),e._v(": 选择与此终端关联的所有进程。")]),e._v(" "),s("li",[s("code",[e._v("x")]),e._v(": 列出拥有的所有进程(和"),s("code",[e._v("ps")]),e._v("相同的"),s("code",[e._v("EUID")]),e._v(")，或者在和"),s("code",[e._v("a")]),e._v("选项一起使用时列出所有进程。")])]),e._v(" "),s("h3",{attrs:{id:"process-selection-by-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#process-selection-by-list"}},[e._v("#")]),e._v(" Process Selection By List")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("-C <command>")]),e._v(": 按命令名选择，这将选择其可执行名称在"),s("code",[e._v("command")]),e._v("中给定的进程。")]),e._v(" "),s("li",[s("code",[e._v("-G, --Group <GID>")]),e._v(": 按真实组"),s("code",[e._v("ID (RGID)")]),e._v("或名称选择，这将选择其真实组名或"),s("code",[e._v("ID")]),e._v("在"),s("code",[e._v("grplist")]),e._v("列表中的进程。")]),e._v(" "),s("li",[s("code",[e._v("-g, --group <group>")]),e._v(": 按会话或有效组名选择。")]),e._v(" "),s("li",[s("code",[e._v("-p, p, --pid <PID>")]),e._v(": 按进程"),s("code",[e._v("ID")]),e._v("选择。")]),e._v(" "),s("li",[s("code",[e._v("--ppid <PID>")]),e._v(": 按父进程"),s("code",[e._v("ID")]),e._v("选择，这将选择"),s("code",[e._v("pidlist")]),e._v("中具有父进程"),s("code",[e._v("ID")]),e._v("的进程，也就是说，它选择的进程是"),s("code",[e._v("pidlist")]),e._v("中列出的那些进程的子进程。")]),e._v(" "),s("li",[s("code",[e._v("-q, q, --quick-pid <PID>")]),e._v(": 按进程"),s("code",[e._v("ID")]),e._v("选择(快速模式)。")]),e._v(" "),s("li",[s("code",[e._v("-s, --sid <session>")]),e._v(": 按会话"),s("code",[e._v("ID")]),e._v("选择。")]),e._v(" "),s("li",[s("code",[e._v("-t, t, --tty <tty>")]),e._v(": 通过"),s("code",[e._v("tty (terminal)")]),e._v("选择。")]),e._v(" "),s("li",[s("code",[e._v("-u, U, --user <UID>")]),e._v(": 根据有效的用户"),s("code",[e._v("ID (EUID)")]),e._v("或名称选择。")]),e._v(" "),s("li",[s("code",[e._v("-U, --User <UID>")]),e._v(": 按真实用户"),s("code",[e._v("ID (RUID)")]),e._v("或名称选择。")])]),e._v(" "),s("h3",{attrs:{id:"output-format-control"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-format-control"}},[e._v("#")]),e._v(" Output Format Control")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("-F")]),e._v(": 额外的完整格式。")]),e._v(" "),s("li",[s("code",[e._v("-f")]),e._v(": 进行全格式列表，可以将此选项与其他"),s("code",[e._v("UNIX")]),e._v("样式的选项结合使用以添加其他列，它还会导致命令参数被打印，与"),s("code",[e._v("-L")]),e._v("一起使用时，将添加"),s("code",[e._v("NLWP")]),e._v("线程数和"),s("code",[e._v("LWP")]),e._v("线程"),s("code",[e._v("ID")]),e._v("列。")]),e._v(" "),s("li",[s("code",[e._v("f, --forest")]),e._v(":"),s("code",[e._v("ASCII art")]),e._v("进程层次结构，如许多树，也称为林。")]),e._v(" "),s("li",[s("code",[e._v("-H")]),e._v(": 显示进程层次结构(林)。")]),e._v(" "),s("li",[s("code",[e._v("-j")]),e._v(": 作业格式。")]),e._v(" "),s("li",[s("code",[e._v("j")]),e._v(": "),s("code",[e._v("BSD")]),e._v("作业控制格式。")]),e._v(" "),s("li",[s("code",[e._v("-l")]),e._v(": 长格式，"),s("code",[e._v("-y")]),e._v("选项通常对此很有用。")]),e._v(" "),s("li",[s("code",[e._v("l")]),e._v(": 显示"),s("code",[e._v("BSD")]),e._v("长格式。")]),e._v(" "),s("li",[s("code",[e._v("-M, Z")]),e._v(": 对于"),s("code",[e._v("SE Linux")]),e._v("添加一列安全数据。")]),e._v(" "),s("li",[s("code",[e._v("-O <format>")]),e._v(": 使用默认列预加载。")]),e._v(" "),s("li",[s("code",[e._v("O <format>")]),e._v(": 与"),s("code",[e._v("-O")]),e._v("类似，具有"),s("code",[e._v("BSD")]),e._v("特性。")]),e._v(" "),s("li",[s("code",[e._v("-o, o, --format <format>")]),e._v(": 指定用户定义的格式。")]),e._v(" "),s("li",[s("code",[e._v("s")]),e._v(": 显示信号格式。")]),e._v(" "),s("li",[s("code",[e._v("u")]),e._v(": 显示面向用户的格式。")]),e._v(" "),s("li",[s("code",[e._v("v")]),e._v(": 显示虚拟内存格式。")]),e._v(" "),s("li",[s("code",[e._v("X")]),e._v(": 寄存器格式。")]),e._v(" "),s("li",[s("code",[e._v("-y")]),e._v(": 不显示标志，显示"),s("code",[e._v("rss")]),e._v("代替"),s("code",[e._v("addr")]),e._v("，此选项只能与"),s("code",[e._v("-l")]),e._v("一起使用。")]),e._v(" "),s("li",[s("code",[e._v("--context")]),e._v(": 使用"),s("code",[e._v("SE Linux")]),e._v("时，显示安全上下文格式。")]),e._v(" "),s("li",[s("code",[e._v("--headers")]),e._v(": 重复标题行，每页输出一行。")]),e._v(" "),s("li",[s("code",[e._v("--no-headers")]),e._v(": 完全不打印标题行。")]),e._v(" "),s("li",[s("code",[e._v("--cols, --columns, --width <num>")]),e._v(": 设置屏幕宽度。")]),e._v(" "),s("li",[s("code",[e._v("--rows, --lines <num>")]),e._v(": 设置屏幕高度。")])]),e._v(" "),s("h3",{attrs:{id:"thread-display"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#thread-display"}},[e._v("#")]),e._v(" Thread Display")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("H")]),e._v(": 将线程显示为进程。")]),e._v(" "),s("li",[s("code",[e._v("-L")]),e._v(": 显示线程，可能带有"),s("code",[e._v("LWP")]),e._v("和"),s("code",[e._v("NLWP")]),e._v("列。")]),e._v(" "),s("li",[s("code",[e._v("-m, m")]),e._v(": 在进程之后显示线程。")]),e._v(" "),s("li",[s("code",[e._v("-T")]),e._v(": 显示线程，可能带有"),s("code",[e._v("SPID")]),e._v("列。")])]),e._v(" "),s("h3",{attrs:{id:"miscellaneous-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#miscellaneous-options"}},[e._v("#")]),e._v(" Miscellaneous options")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("-c")]),e._v(": 为"),s("code",[e._v("-l")]),e._v("选项显示不同的调度程序信息。")]),e._v(" "),s("li",[s("code",[e._v("c")]),e._v(": 显示真实的命令名称。")]),e._v(" "),s("li",[s("code",[e._v("e")]),e._v(": 在命令后显示环境。")]),e._v(" "),s("li",[s("code",[e._v("k, --sort")]),e._v(": 指定排序顺序为"),s("code",[e._v("[+|-]key[,[+|-]key[,...]]")]),e._v("。")]),e._v(" "),s("li",[s("code",[e._v("L")]),e._v(": 显示格式说明符。")]),e._v(" "),s("li",[s("code",[e._v("n")]),e._v(": 显示数字"),s("code",[e._v("uid")]),e._v("和"),s("code",[e._v("wchan")]),e._v("。")]),e._v(" "),s("li",[s("code",[e._v("S, --cumulative")]),e._v(": 包含一些"),s("code",[e._v("dead")]),e._v("子进程数据。")]),e._v(" "),s("li",[s("code",[e._v("-y")]),e._v(": 不显示标志，显示"),s("code",[e._v("rss")]),e._v("，仅与"),s("code",[e._v("-l")]),e._v("一起使用。")]),e._v(" "),s("li",[s("code",[e._v("-V, V, --version")]),e._v(": 显示版本信息。")]),e._v(" "),s("li",[s("code",[e._v("-w, w")]),e._v(": 无限制的输出宽度。")]),e._v(" "),s("li",[s("code",[e._v("--help <simple|list|output|threads|misc|all>")]),e._v(": 显示帮助信息。")])]),e._v(" "),s("h2",{attrs:{id:"示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),s("p",[e._v("显示当前"),s("code",[e._v("shell")]),e._v("的进程。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("查看所有正在运行的进程。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -e\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("通常查看所有进程可以与管道以及"),s("code",[e._v("grep")]),e._v("命令结合用以过滤，例如我们查看与"),s("code",[e._v("nginx")]),e._v("有关的所有进程。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(" ps -e | grep nginx\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("查看除会话引线和未与终端关联的进程之外的所有进程。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -a\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("查看"),s("code",[e._v("www")]),e._v("用户的所有进程。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -u www\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("查看"),s("code",[e._v("www")]),e._v("组的所有进程。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -G www\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("使用"),s("code",[e._v("-f")]),e._v("查看完整格式列表。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -f\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("按用户自定义格式查看进程。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -aN --format cmd,pid,user,ppid\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("根据内存占用情况将进程排序。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%mem\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("显示所有当前进程，为了便于查看可以结合管道和"),s("code",[e._v("less")]),e._v("命令来使用。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -ax | less\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("使用"),s("code",[e._v("aux")]),e._v("参数，加入"),s("code",[e._v("CPU")]),e._v("与内存用量信息，来显示全面的信息。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -aux | less\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("根据"),s("code",[e._v("CPU")]),e._v("使用将进程降序排序。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -aux --sort -pcpu | less\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("根据内存使用将进程降序排序。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -aux --sort -pmem | less\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("合并内存与"),s("code",[e._v("CPU")]),e._v("的整体使用情况进行排序，并只显示前"),s("code",[e._v("10")]),e._v("个结果。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ps -aux --sort -pcpu,+pmem | head -n 10\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"每日一题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#每日一题"}},[e._v("#")]),e._v(" 每日一题")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("https://github.com/WindrunnerMax/EveryDay\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("https://www.computerhope.com/unix/ups.htm\nhttps://www.runoob.com/linux/linux-comm-ps.html\nhttps://www.geeksforgeeks.org/ps-command-in-linux-with-examples/\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])])])}),[],!1,null,null,null);v.default=a.exports}}]);