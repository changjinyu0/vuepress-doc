(window.webpackJsonp=window.webpackJsonp||[]).push([[276],{642:function(t,s,a){"use strict";a.r(s);var e=a(45),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"route命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#route命令"}},[t._v("#")]),t._v(" route命令")]),t._v(" "),a("p",[t._v("在计算机网络中，路由器是负责转发网络流量的设备，当数据报到达路由器时，路由器必须确定将其路由到目的地的最佳方法，"),a("code",[t._v("route")]),t._v("命令用于查看和更改内核路由表，在不同的系统上，命令语法不同，所以实际时可以查看命令的帮助来确定具体使用方法。")]),t._v(" "),a("h2",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[t._v("#")]),t._v(" 语法")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("route "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-CFvnee"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nroute "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-A family"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-net"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" target "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("netmask Nm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("gw Gw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("metric N"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("mss M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("window W"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("irtt m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("reject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("mod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dyn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("reinstate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" If"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nroute "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-A family"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" del "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-net"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" target "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("gw Gw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("netmask Nm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("metric N"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" If"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nroute "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-V"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--help"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h2",{attrs:{id:"参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("(none)")]),t._v(": 查看当前所有路由定义。")]),t._v(" "),a("li",[a("code",[t._v("-A family")]),t._v(": 使用指定的地址族，可以使用"),a("code",[t._v("route --help")]),t._v("查询支持的地址族，通常支持的地址族有"),a("code",[t._v("inet (DARPA Internet)")]),t._v("、"),a("code",[t._v("inet6 (IPv6)")]),t._v("、"),a("code",[t._v("ax25 (AMPR AX.25)")]),t._v("、"),a("code",[t._v("netrom (AMPR NET/ROM)")]),t._v("、"),a("code",[t._v("ipx (Novell IPX)")]),t._v("、"),a("code",[t._v("ddp (Appletalk DDP)")]),t._v("、"),a("code",[t._v("x25 (CCITT X.25)")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("-F")]),t._v(": 对内核的"),a("code",[t._v("FIB")]),t._v("转发信息库路由表进行操作，这是默认值。")]),t._v(" "),a("li",[a("code",[t._v("-C")]),t._v(": 操作内核的路由缓存。")]),t._v(" "),a("li",[a("code",[t._v("-v")]),t._v(": 输出详细操作。")]),t._v(" "),a("li",[a("code",[t._v("-n")]),t._v(": 显示数字地址，而不是尝试确定符号主机名，如果要确定到名称服务器的路由消失的原因，这将很有用。")]),t._v(" "),a("li",[a("code",[t._v("-e")]),t._v(": 使用"),a("code",[t._v("netstat")]),t._v("格式显示路由表，"),a("code",[t._v("-ee")]),t._v("将使用路由表中的所有参数生成很长的一行。")]),t._v(" "),a("li",[a("code",[t._v("del")]),t._v(": 删除路由。")]),t._v(" "),a("li",[a("code",[t._v("add")]),t._v(": 添加路由。")]),t._v(" "),a("li",[a("code",[t._v("target")]),t._v(": 目标网络或主机，可以用点分十进制或主机"),a("code",[t._v("/")]),t._v("网络名称提供"),a("code",[t._v("IP")]),t._v("地址。")]),t._v(" "),a("li",[a("code",[t._v("-net")]),t._v(": 添加的目标是一个网络。")]),t._v(" "),a("li",[a("code",[t._v("-host")]),t._v(": 添加的目标是一个主机。")]),t._v(" "),a("li",[a("code",[t._v("netmask NM")]),t._v(": 添加网络路由时，要使用的网络掩码。")]),t._v(" "),a("li",[a("code",[t._v("gw GW")]),t._v(": 通过网关路由数据包，必须首先可以访问指定的网关，这通常意味着必须事先设置到网关的静态路由，如果您指定本地接口之一的地址，它将用于确定数据包应路由到的接口。")]),t._v(" "),a("li",[a("code",[t._v("metric M")]),t._v(": 将路由表(由路由守护程序使用)中的度量字段设置为M。")]),t._v(" "),a("li",[a("code",[t._v("mss M")]),t._v(": 将通过此路由的连接的"),a("code",[t._v("TCP")]),t._v("最大段大小"),a("code",[t._v("MSS")]),t._v("设置为"),a("code",[t._v("M")]),t._v("个字节，缺省值为设备"),a("code",[t._v("MTU")]),t._v("减去标题，或在发生路径"),a("code",[t._v("mtu")]),t._v("发现时使用较低的"),a("code",[t._v("MTU")]),t._v("，当路径"),a("code",[t._v("mtu")]),t._v("发现不起作用时(通常是由于配置错误的防火墙阻止了所需的"),a("code",[t._v("ICMP")]),t._v("碎片)，此设置可用于在另一端强制使用较小的"),a("code",[t._v("TCP")]),t._v("数据包。")]),t._v(" "),a("li",[a("code",[t._v("window W")]),t._v(": 将通过此路由的连接的"),a("code",[t._v("TCP")]),t._v("窗口大小设置为"),a("code",[t._v("W")]),t._v("字节，仅在"),a("code",[t._v("AX.25")]),t._v("网络上使用，并且驱动程序无法处理背靠背帧。")]),t._v(" "),a("li",[a("code",[t._v("irtt m")]),t._v(": 将通过此路由的"),a("code",[t._v("TCP")]),t._v("连接的初始往返时间"),a("code",[t._v("irtt")]),t._v("设置为"),a("code",[t._v("m")]),t._v("毫秒"),a("code",[t._v("1-12000")]),t._v("，仅在"),a("code",[t._v("AX.25")]),t._v("网络上使用，如果省略，则使用"),a("code",[t._v("RFC 1122")]),t._v("默认值"),a("code",[t._v("300ms")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("reject")]),t._v(": 安装阻塞路由，这将强制路由查找失败，这可以用于在使用默认路由之前屏蔽网络，此外要注意这不是用于防火墙。")]),t._v(" "),a("li",[a("code",[t._v("mod, dyn, reinstate")]),t._v(": 安装动态或修改后的路线，这些标志用于诊断目的，通常仅由路由守护程序设置。")]),t._v(" "),a("li",[a("code",[t._v("dev If")]),t._v(": 强制将路由与指定设备相关联，否则内核将尝试自行确定设备(通过检查现有路由和设备规格以及添加路由的位置)，在大多数普通网络中，基本不需要此功能。如果"),a("code",[t._v("dev If")]),t._v("是命令行上的最后一个选项，则可以省略单词"),a("code",[t._v("dev")]),t._v("，因为它是默认值，否则路由修饰符的顺序"),a("code",[t._v("metric - netmask - gw - dev")]),t._v("无关紧要。")]),t._v(" "),a("li",[a("code",[t._v("-h, --help")]),t._v(": 输出帮助信息。")])]),t._v(" "),a("h2",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[t._v("显示绑定到服务器的所有"),a("code",[t._v("IP")]),t._v("的路由表。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("route -n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("添加默认网关，这将分配一个网关地址，所有不属于此网络的数据包都将在该网关地址上转发。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("route "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" default gw "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("169.213")]),t._v(".0.0\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("列出内核的路由缓存信息，为了更快地路由数据包，内核保留了路由缓存信息。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("route -Cn\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("拒绝路由到特定主机或网络。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("route "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -host "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.51 reject\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("删除默认网关，这可能会导致某些互联网故障，所以在继续执行该命令之前，请记下默认网关。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("route del default\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("当我们连接"),a("code",[t._v("PPTP")]),t._v("后，通常我们会配置将一个网段添加路由，来指定数据报通过"),a("code",[t._v("ppp0")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("route "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -net "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.0/16 dev ppp0\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("配置将一个域名添加路由，来指定数据报通过"),a("code",[t._v("ppp0")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("route "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -host jwgl.sdust.edu.cn dev ppp0\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("将所有"),a("code",[t._v("D")]),t._v("类多播"),a("code",[t._v("IP")]),t._v("路由都设置为通过"),a("code",[t._v("eth0")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("route "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -net "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("224.0")]),t._v(".0.0 netmask "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("240.0")]),t._v(".0.0 dev eth0\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"每日一题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#每日一题"}},[t._v("#")]),t._v(" 每日一题")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("https://github.com/WindrunnerMax/EveryDay\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("https://www.computerhope.com/unix/route.htm\nhttps://blog.csdn.net/u013485792/article/details/51700808\nhttps://www.geeksforgeeks.org/route-command-in-linux-with-examples/\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);