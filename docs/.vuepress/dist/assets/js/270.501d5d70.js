(window.webpackJsonp=window.webpackJsonp||[]).push([[270],{638:function(e,t,v){"use strict";v.r(t);var _=v(45),a=Object(_.a)({},(function(){var e=this,t=e.$createElement,v=e._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"patch命令"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#patch命令"}},[e._v("#")]),e._v(" patch命令")]),e._v(" "),v("p",[v("code",[e._v("patch")]),e._v("指令让用户利用设置修补文件的方式、修改、更新原始文件，倘若一次仅修改一个文件，可直接在指令列中下达指令依序执行，如果配合修补文件的方式则能一次修补大批文件，这也是"),v("code",[e._v("Linux")]),e._v("系统核心的升级方法之一。")]),e._v(" "),v("h2",{attrs:{id:"语法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[e._v("#")]),e._v(" 语法")]),e._v(" "),v("div",{staticClass:"language-shell line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-shell"}},[v("code",[e._v("patch "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("OPTION"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(". "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("ORIGFILE "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("PATCHFILE"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br")])]),v("h2",{attrs:{id:"参数"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[e._v("#")]),e._v(" 参数")]),e._v(" "),v("ul",[v("li",[v("code",[e._v("-b, --backup")]),e._v(": 备份每一个原始文件。")]),e._v(" "),v("li",[v("code",[e._v("-B<pref>, --prefix=<pref>")]),e._v(": 设置文件备份时，附加在文件名称前面的字首字符串，该字符串可以是路径名称。")]),e._v(" "),v("li",[v("code",[e._v("-c, --context")]),e._v(": 把修补数据解译成关联性的差异。")]),e._v(" "),v("li",[v("code",[e._v("-d<dir>, --directory=<dir>")]),e._v(": 设置工作目录。")]),e._v(" "),v("li",[v("code",[e._v("-D<define>, --ifdef=<define>")]),e._v(": 用指定的符号把改变的地方标示出来。")]),e._v(" "),v("li",[v("code",[e._v("-e, --ed")]),e._v(": 把修补数据解译成ed指令可用的叙述文件。")]),e._v(" "),v("li",[v("code",[e._v("-E, --remove-empty-files")]),e._v(": 若修补过后输出的文件其内容是一片空白，则移除该文件。")]),e._v(" "),v("li",[v("code",[e._v("-f, --force")]),e._v(": 此参数的效果和指定"),v("code",[e._v("-t")]),e._v("参数类似，但会假设修补数据的版本为新版本。")]),e._v(" "),v("li",[v("code",[e._v("-F<num >, --fuzz<num >")]),e._v(": 设置监别列数的最大值。")]),e._v(" "),v("li",[v("code",[e._v("-g<num>, --get=<num>")]),e._v(": 设置以"),v("code",[e._v("RSC")]),e._v("或"),v("code",[e._v("SCCS")]),e._v("控制修补作业。")]),e._v(" "),v("li",[v("code",[e._v("-i<patchfile>, --input=<patchfile>")]),e._v(": 读取指定的修补文件。")]),e._v(" "),v("li",[v("code",[e._v("-l, --ignore-whitespace")]),e._v(": 忽略修补数据与输入数据的跳格，空格字符。")]),e._v(" "),v("li",[v("code",[e._v("-n, --normal")]),e._v(": 把修补数据解译成一般性的差异。")]),e._v(" "),v("li",[v("code",[e._v("-N, --forward")]),e._v(": 忽略修补的数据较原始文件的版本更旧，或该版本的修补数据已使　用过。")]),e._v(" "),v("li",[v("code",[e._v("-o<outfile>, --output=<outfile>")]),e._v(": 设置输出文件的名称，修补过的文件会以该名称存放。")]),e._v(" "),v("li",[v("code",[e._v("-p<num>, --strip=<num>")]),e._v(": 设置欲剥离几层路径名称。")]),e._v(" "),v("li",[v("code",[e._v("-f<rejectfile>, --reject-file=<rejectfile>")]),e._v(": 设置保存拒绝修补相关信息的文件名称，预设的文件名称为"),v("code",[e._v(".rej")]),e._v("。")]),e._v(" "),v("li",[v("code",[e._v("-R, --reverse")]),e._v(": 假设修补数据是由新旧文件交换位置而产生。")]),e._v(" "),v("li",[v("code",[e._v("-s, --quiet或--silent")]),e._v(": 不显示指令执行过程，除非发生错误。")]),e._v(" "),v("li",[v("code",[e._v("-t, --batch")]),e._v(": 自动略过错误，不询问任何问题。")]),e._v(" "),v("li",[v("code",[e._v("-T, --set-time")]),e._v(": 此参数的效果和指定"),v("code",[e._v("-Z")]),e._v("参数类似，但以本地时间为主。")]),e._v(" "),v("li",[v("code",[e._v("-u, --unified")]),e._v(": 把修补数据解译成一致化的差异。")]),e._v(" "),v("li",[v("code",[e._v("-v, --version")]),e._v(": 显示版本信息。")]),e._v(" "),v("li",[v("code",[e._v("-V<method>, --version-control=<method>")]),e._v(": 用"),v("code",[e._v("-b")]),e._v("参数备份目标文件后，备份文件的字尾会被加上一个备份字符串，这个字符串不仅可用"),v("code",[e._v("-z")]),e._v("参数变更，当使用"),v("code",[e._v("-V")]),e._v("参数指定不同备份方式时，也会产生不同字尾的备份字符串。")]),e._v(" "),v("li",[v("code",[e._v("-Y<pref>, --basename-prefix=--<pref>")]),e._v(": 设置文件备份时，附加在文件基本名称开头的字首字符串。")]),e._v(" "),v("li",[v("code",[e._v("-z<suffix>, --suffix=<suffix>")]),e._v(": 此参数的效果和指定"),v("code",[e._v("-B")]),e._v("参数类似，差别在于修补作业使用的路径与文件名若为"),v("code",[e._v("src/linux/fs/super.c")]),e._v("，加上"),v("code",[e._v("backup/")]),e._v("字符串后，文件"),v("code",[e._v("super.c")]),e._v("会备份于"),v("code",[e._v("/src/linux/fs/backup")]),e._v("目录里。")]),e._v(" "),v("li",[v("code",[e._v("-Z, --set-utc")]),e._v(": 把修补过的文件更改，存取时间设为"),v("code",[e._v("UTC")]),e._v("。")]),e._v(" "),v("li",[v("code",[e._v("--backup-if-mismatch")]),e._v(": 在修补数据不完全吻合，且没有刻意指定要备份文件时，才备份文件。")]),e._v(" "),v("li",[v("code",[e._v("--binary")]),e._v(": 以二进制模式读写数据，而不通过标准输出设备。")]),e._v(" "),v("li",[v("code",[e._v("--help")]),e._v(": 在线帮助。")]),e._v(" "),v("li",[v("code",[e._v("--nobackup-if-mismatch")]),e._v(": 在修补数据不完全吻合，且没有刻意指定要备份文件时，不要备份文件。")]),e._v(" "),v("li",[v("code",[e._v("--verbose")]),e._v(": 详细显示指令的执行过程。")])]),e._v(" "),v("h2",{attrs:{id:"示例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),v("p",[e._v("使用补丁包"),v("code",[e._v("/tmp/file.patch")]),e._v("为文件"),v("code",[e._v("/tmp/file2.txt")]),e._v("升级。")]),e._v(" "),v("div",{staticClass:"language-shell line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-shell"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# diff /tmp/file2.txt /tmp/file3.txt > /tmp/file.patch # 生成补丁文件")]),e._v("\npatch /tmp/file2.txt /tmp/file.patch\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br"),v("span",{staticClass:"line-number"},[e._v("2")]),v("br")])]),v("h2",{attrs:{id:"每日一题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#每日一题"}},[e._v("#")]),e._v(" 每日一题")]),e._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("https://github.com/WindrunnerMax/EveryDay\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br")])]),v("h2",{attrs:{id:"参考"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("https://man.linuxde.net/patch\nhttps://www.runoob.com/linux/linux-comm-patch.html\nhttps://www.tutorialspoint.com/unix_commands/patch.htm\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br"),v("span",{staticClass:"line-number"},[e._v("2")]),v("br"),v("span",{staticClass:"line-number"},[e._v("3")]),v("br")])])])}),[],!1,null,null,null);t.default=a.exports}}]);