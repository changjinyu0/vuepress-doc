(window.webpackJsonp=window.webpackJsonp||[]).push([[289],{655:function(e,a,v){"use strict";v.r(a);var s=v(45),t=Object(s.a)({},(function(){var e=this,a=e.$createElement,v=e._self._c||a;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"updatedb命令"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#updatedb命令"}},[e._v("#")]),e._v(" updatedb命令")]),e._v(" "),v("p",[v("code",[e._v("updatedb")]),e._v("创建或更新"),v("code",[e._v("locate")]),e._v("命令使用的数据库，如果数据库已经存在，则重用其数据以避免重新读取未更改的目录，"),v("code",[e._v("updatedb")]),e._v("通常由"),v("code",[e._v("cron")]),e._v("每天运行以更新默认数据库。")]),e._v(" "),v("h2",{attrs:{id:"语法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[e._v("#")]),e._v(" 语法")]),e._v(" "),v("div",{staticClass:"language-shell line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-shell"}},[v("code",[e._v("updatedb "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("OPTION"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br")])]),v("h2",{attrs:{id:"参数"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[e._v("#")]),e._v(" 参数")]),e._v(" "),v("ul",[v("li",[v("code",[e._v("-f, --add-prunefs FS")]),e._v(": 将空格分隔的列表"),v("code",[e._v("FS")]),e._v("中的条目添加到"),v("code",[e._v("PRUNEFS")]),e._v("。")]),e._v(" "),v("li",[v("code",[e._v("-n, --add-prunenames NAMES")]),e._v(":  将空格分隔的列表名称中的条目添加到"),v("code",[e._v("pruneName")]),e._v("。")]),e._v(" "),v("li",[v("code",[e._v("-e, --add-prunepaths PATHS")]),e._v(": 将以空格分隔的列表"),v("code",[e._v("PATHS")]),e._v("中的条目添加到"),v("code",[e._v("PRUNEPATHS")]),e._v("。")]),e._v(" "),v("li",[v("code",[e._v("-U, --database-root PATH")]),e._v(": 仅存储扫描以生成的数据库路径为根的文件系统子树的结果，默认情况下会扫描整个文件系统即"),v("code",[e._v("/")]),e._v("，"),v("code",[e._v("locate")]),e._v("输出的条目作为绝对路径名，不包含符号链接，无论"),v("code",[e._v("PATH")]),e._v("的形式如何。")]),e._v(" "),v("li",[v("code",[e._v("-h, --help")]),e._v(": 显示帮助信息。")]),e._v(" "),v("li",[v("code",[e._v("-o, --output FILE")]),e._v(": 将数据库写入文件，而不是使用默认数据库，数据库默认位置为"),v("code",[e._v("/var/lib/mlocate/mlocate.db")]),e._v("。")]),e._v(" "),v("li",[v("code",[e._v("--prune-bind-mounts FLAG")]),e._v(": 将"),v("code",[e._v("PRUNE_BIND_MOUNTS")]),e._v("设置为"),v("code",[e._v("FLAG")]),e._v("，覆盖配置文件，默认为"),v("code",[e._v("no")]),e._v("。")]),e._v(" "),v("li",[v("code",[e._v("--prunefs FS")]),e._v(": 将"),v("code",[e._v("PRUNEFS")]),e._v("设置为"),v("code",[e._v("FS")]),e._v("，以覆盖配置文件。")]),e._v(" "),v("li",[v("code",[e._v("--prunenames NAMES")]),e._v(": 将"),v("code",[e._v("PRUNENAMES")]),e._v("设置为"),v("code",[e._v("NAMES")]),e._v("，以覆盖配置文件。")]),e._v(" "),v("li",[v("code",[e._v("--prunepaths PATHS")]),e._v(": 将"),v("code",[e._v("PRUNEPATHS")]),e._v("设置为"),v("code",[e._v("PATHS")]),e._v("，以覆盖配置文件。")]),e._v(" "),v("li",[v("code",[e._v("-l, --require-visibility FLAG")]),e._v(': 将生成的数据库中的"报告之前要求文件可见性"标志设置为'),v("code",[e._v("FLAG")]),e._v("，默认值为"),v("code",[e._v("yes")]),e._v("。如果"),v("code",[e._v("FLAG")]),e._v("为"),v("code",[e._v("0")]),e._v("或"),v("code",[e._v("no")]),e._v("，或者数据库文件可被"),v("code",[e._v("others")]),e._v("读取或不属于"),v("code",[e._v("slocate")]),e._v("，那么"),v("code",[e._v("locate")]),e._v("将输出数据库项，运行"),v("code",[e._v("locate")]),e._v("的用户无法读取所需的目录以找到数据库项所描述的文件。如果"),v("code",[e._v("FLAG")]),e._v("为"),v("code",[e._v("1")]),e._v("或"),v("code",[e._v("yes")]),e._v("，则"),v("code",[e._v("locate")]),e._v("在将每个条目的父目录报告给调用用户之前，先检查其父目录的权限。为了使文件的存在真正被其他用户隐藏，数据库组设置为"),v("code",[e._v("slocate")]),e._v("，并且数据库权限禁止用户使用"),v("code",[e._v("locate set-gid slocate")]),e._v("以外的其他方式读取用户的数据库。注意，仅当数据库由"),v("code",[e._v("slocate")]),e._v("拥有并且"),v("code",[e._v("others")]),e._v("不可读时，才检查可见性标志。")]),e._v(" "),v("li",[v("code",[e._v("-v, --verbose")]),e._v(": 将文件的输出路径名输出到标准输出。")]),e._v(" "),v("li",[v("code",[e._v("-V, --version")]),e._v(": 输出版本信息。")])]),e._v(" "),v("h2",{attrs:{id:"示例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),v("p",[e._v("更新"),v("code",[e._v("locate")]),e._v("命令所使用的数据库。")]),e._v(" "),v("div",{staticClass:"language-shell line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-shell"}},[v("code",[e._v("updatedb\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br")])]),v("p",[e._v("更新"),v("code",[e._v("locate")]),e._v("命令所使用的数据库，并输出找到的文件。")]),e._v(" "),v("div",{staticClass:"language-shell line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-shell"}},[v("code",[e._v("updatedb -v\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br")])]),v("p",[e._v("指定更新"),v("code",[e._v("locate")]),e._v("命令所使用的数据库的目录。")]),e._v(" "),v("div",{staticClass:"language-shell line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-shell"}},[v("code",[e._v("updatedb -U /home\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br")])]),v("h2",{attrs:{id:"每日一题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#每日一题"}},[e._v("#")]),e._v(" 每日一题")]),e._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("https://github.com/WindrunnerMax/EveryDay\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br")])]),v("h2",{attrs:{id:"参考"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("https://linux.die.net/man/8/updatedb\nhttps://www.computerhope.com/unix/ulocate.htm\nhttps://www.runoob.com/linux/linux-comm-updatedb.html\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br"),v("span",{staticClass:"line-number"},[e._v("2")]),v("br"),v("span",{staticClass:"line-number"},[e._v("3")]),v("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);